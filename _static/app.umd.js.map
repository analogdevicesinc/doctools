{"version":3,"file":"app.umd.js","sources":["../scripts/dom.js","../scripts/navigation.js","../scripts/app.js"],"sourcesContent":["\"use strict\";\nexport {DOM, Animate}\n\n/** Make DOM element*/\nclass DOM {\n  constructor (dom, tags){\n    this.$\n    if (typeof dom != 'string'){\n      this.$ = dom\n      return\n    }\n    let known_tags = [\n      'innerText', 'className', 'id', 'title', 'innerText',\n      'value', 'tabIndex', 'role', 'href', 'ariaPressed', 'preload', 'controls',\n      'autoplay', 'src', 'placeholder', 'htmlFor', 'type', 'autocomplete',\n      'name', 'accept', 'disabled', 'innerHTML', 'action'\n    ]\n    this.$ = document.createElement (dom);\n    if (typeof tags == 'object') for (const tag in tags) {\n      if (known_tags.includes(tag))\n        this.$[tag] = tags[tag]\n      else\n        this.$.dataset[tag] = tags[tag]\n    }\n  }\n  /**\n   * Set DOM innerText.\n   * @param {string} str - Text to apply.\n   */\n  set innerText(str){\n    this.$.innerText = str\n  }\n  /**\n   * Get DOM innerText.\n   */\n  get innerText(){\n    return this.$.innerText\n  }\n  /** Get DOM offset height */\n  get height (){\n    return this.$.offsetHeight\n  }\n  /** Get DOM offset width */\n  get width (){\n    return this.$.offsetWidth\n  }\n  /** Get DOM id */\n  get id (){\n    return this.$.id\n  }\n  /** Set DOM id */\n  set id (str){\n    this.$.id= str\n  }\n  /** Get DOM value */\n  get value (){\n    return this.$.value\n  }\n  /** Set DOM value */\n  set value (str){\n    this.$.value = str\n  }\n  /** Get DOM src */\n  get src (){\n    return this.$.src\n  }\n  /** Set DOM src */\n  set src (str){\n    this.$.src = str\n  }\n  /**\n   * Focus on DOM.\n   */\n  focus (){\n    this.$.focus()\n  }\n  /** Get DOM classList object. */\n  get classList(){\n    return this.$.classList\n  }\n  /** Get DOM style object. */\n  get style(){\n    return this.$.style\n  }\n  /**\n   * Append a ``onchange`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onchange (self, ev, args){\n    this.$.onchange = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n  return this\n  }\n  /**\n   * Append a ``onclick`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onclick (self, ev, args){\n    this.$.onclick = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n  return this\n  }\n  /**\n   * Append a ``mouseup`` and ``touchup`` event.\n   * @param {function} ev - Function to be executed on up.\n   */\n  onup (self, ev, args){\n    this.$.addEventListener('mouseup', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Append a ``mousedown`` and ``touchdown`` event.\n   * @param {function} ev - Function to be executed on down.\n   */\n  ondown (self, ev, args){\n    this.$.addEventListener('mousedown', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Append a ``mousemove`` and ``touchmove`` event.\n   * @param {function} ev - Function to be executed on move.\n   */\n  onmove (self, ev, args){\n    this.$.addEventListener('mousemove', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Append a event listener.\n   * @param {string} event - Event listener name.\n   * @param {function} fun - Function to be executed on move.\n   * @param {function} args - Arguments to be applied to the function.\n   */\n  onevent (event, self, fun, args){\n    this.$.addEventListener(event, (e) => {\n      if (typeof args == 'undefined')\n        fun.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        fun.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Appends others :js:func:`DOM`.\n   * @param {Object[]} DOMS - Array of :js:func:`DOM` or/and direct DOM Nodes.\n   */\n  append (DOMS){\n    if (DOMS.constructor != Array)\n      DOMS = [DOMS]\n\n    DOMS.forEach ((item) => {\n      if (/HTML(.*)Element/.test(item.constructor.name))\n        this.$.appendChild(item)\n      else if (typeof item == 'object' && (/HTML(.*)Element/.test(item.$)))\n        this.$.appendChild(item.$)\n    })\n\n    return this\n  }\n  /**\n   * Delete object.\n   */\n  delete (){\n    this.$.remove()\n    delete this\n  }\n  /**\n   * Remove childs from :js:func:`DOM` object.\n   */\n  removeChilds (){\n    let child = this.$.lastElementChild\n    while (child) {\n      this.$.removeChild(child)\n      child = this.$.lastElementChild\n    }\n    return this\n  }\n  /**\n   * Get DOM Node element.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Optional parent DOM.\n   */\n  static get (a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'undefined') ? document.querySelector (a) : b.querySelector(a)\n  }\n  /**\n   * Get all DOM Node elements.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Parent DOM.\n   */\n  static getAll(a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'object') ? b.querySelectorAll(a) : get(b).querySelectorAll(a)\n  }\n  /**\n   * Include or remove a class to a DOM.\n   * @param {Object} b - Target DOM.\n   * @param {string} _class - Optional class, defaults to `on`.\n   */\n  static switchState (b, _class){\n    b = b instanceof DOM ? b.$ : b\n    let cn = _class != undefined ? _class : `on`\n    if (b.classList.contains(cn))\n      b.classList.remove(cn)\n    else\n      b.classList.add(cn)\n  }\n  /**\n  * Generate a unique identifier.\n  */\n  static UID (){\n    return (+new Date).toString(36) + Math.random().toString(36).substr(2)\n  }\n  /**\n   * Prototype a DOM composed by details, sumamary and a h2 title with optional\n   * onclick event.\n   * @param {Object} str - id, title and onclick function of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.title - Title of the DOM element.\n   * @param {Object} str.onclick - Onclick function of the DOM element.\n   */\n  static prototypeDetails (str){\n    let summary = new DOM('summary', {innerText:str.innerText})\n    let details = new DOM('details', {id:str.id, name:str.id})\n      .append(summary)\n\n    if (str.onevent != undefined) {\n      str.onevent.forEach(event => {\n        event.args.push(details.$)\n        summary.onevent(\n          event.event,\n          event.self,\n          event.fun,\n          event.args\n        )\n      })\n    }\n    return details\n  }\n  /**\n   * Prototype a DOM composed by input(file type) and label.\n   * @param {Object} str - id, className and innerText of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.className - ClassName of the DOM element.\n   * @param {string} str.innerText - Inner text of the DOM element.\n   */\n  static prototypeInputFile (str){\n    return new DOM('label', {\n      htmlFor:`${str.id}_input`,\n      id:str.id,\n      className:str.className,\n      innerText:str.innerText\n      }).append(\n        new DOM('input', {id:`${str.id}_input`, type:'file'})\n      )\n  }\n  /**\n   * Prototype a DOM composed by input(checkbox) and label styled as as switch.\n   * @param {Object} str - id, className and innerText of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.className - ClassName of the DOM element.\n   * @param {string} str.innerText - Inner text of the DOM element.\n   * @returns Array with input and container.\n   */\n  static prototypeCheckSwitch (str){\n    let input = new DOM('input', {\n      id:str.id,\n      name:str.id,\n      className:'checkswitch',\n      type:'checkbox',\n      value:false\n    })\n\n    let container = new DOM('div', {className:str.className})\n      .append([\n        new DOM('div')\n          .append([\n            new DOM('label', {\n                className:'checkswitch',\n                htmlFor:str.id,\n                innerText:str.innerText\n              }).append([\n                input,\n                new DOM('span')\n              ])\n          ])\n      ])\n\n    return [input, container]\n  }\n  /**\n   * Prototype a DOM that allows data to be downloded on its creation.\n   * @param {string} filename - name of the file.\n   * @param {string} file - file content.\n   */\n  static prototypeDownload (filename, file){\n    let data,\n        reg = /.*\\.(py|xml|csv|json|svg|png)$/\n    if (!reg.test(filename))\n      return\n\n    let format = filename.match(reg)[1]\n    filename = filename\n      .replaceAll('/','-')\n      .replaceAll(' ','_')\n      .toLowerCase()\n\n    switch (format) {\n      case 'xml':\n        data = \"data:x-application/xml;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'py':\n        data = \"data:text/python;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'json':\n        data = \"data:text/json;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'csv':\n        data = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'svg':\n        data = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'png':\n        data = file; // Expect already in blob\n        break\n    }\n    let element = document.createElement('a')\n    element.setAttribute('href', data)\n    element.setAttribute('download', filename)\n    element.style.display = 'none'\n\n    document.body.appendChild(element)\n    element.click ()\n    document.body.removeChild(element)\n  }\n  /**\n   * Set a option of a select list by its innerText.\n   * @param {Object} dom - Node of the select list.\n   * @param {string} value - Inner text of the target option.\n   */\n  static setSelected (dom, value){\n    for (var i = 0; i < dom.$.options.length; i++){\n      if (dom.$.options[i].text == value){\n        dom.$.options[i].selected = true\n        return\n      }\n    }\n  }\n  /**\n   * Updates parameter of children of a DOM.\n   * Lazy because doesn't care is successful or not.\n   * Useful for generic lists, like in searches.\n   * @param {Object} dom - Container of the list.\n   * @param {string} uid - Item to search for.\n   * @param {Object} props - Properties to update, where the key is also the DOM id.\n   * @param {string} param - Parameter to update.\n   */\n  static lazyUpdate (dom, uid, props, param){\n    param = param == undefined ? 'innerText' : param\n    let element = DOM.get(`[data-uid='${uid}']`, dom)\n    for (const key in props){\n      DOM.get(`#${key}`, element)[param] = props[key]\n    }\n  }\n}\n","\"use strict\";\n\nimport {DOM} from './dom.js'\nimport {Toolbox} from './toolbox.js'\n\n/* Handle navigation, theming, search, shortcuts */\nclass Navigation {\n  constructor () {\n    this.portrait = false\n    this.isLocal = 'file:' == window.location.protocol\n    this.currentTheme = localStorage.getItem('theme')\n    this.ctrlPressed = localStorage.getItem('ctrlPressed')\n    this.contentRoot = DOM.get('html').dataset['content_root']\n\n    let metaRepo = document.querySelector('meta[name=\"repo\"]')\n    this.repo = metaRepo ? metaRepo.content.split('/') : ['']\n\n    let $ = this.$ = {}\n    $.body = new DOM(DOM.get('body'))\n\n    if (this.currentTheme === null)\n      this.currentTheme = this.getOSTheme()\n    $.body.classList.add('js-on')\n    if (this.currentTheme !== this.getOSTheme())\n      $.body.classList.add(this.currentTheme)\n\n\t  $.searchButton = new DOM('button', {\n      id:'search',\n      className:'icon',\n      title:'Search (/)'\n    }).onclick(this, () => {\n      DOM.switchState($.searchArea)\n      DOM.switchState($.searchAreaBg)\n      $.searchBox.focus()\n      $.searchBox.$.select()\n    })\n\t  $.changeTheme = new DOM('button', {\n      className: this.currentTheme === 'dark' ? 'icon on' : 'icon',\n      id:'theme',\n      title:'Switch theme'\n    }).onclick(this, () => {\n      $.body.classList.remove(this.currentTheme)\n      this.currentTheme = this.currentTheme === 'dark' ? 'light' : 'dark'\n      if (this.getOSTheme() == this.currentTheme)\n        localStorage.removeItem('theme')\n      else {\n        localStorage.setItem('theme', this.currentTheme)\n        $.body.classList.add(this.currentTheme)\n      }\n    })\n\n    $.searchAreaBg = new DOM('div', {\n      className:'search-area-bg'\n    }).onclick(this, () => {\n      DOM.switchState($.searchArea)\n      DOM.switchState($.searchAreaBg)\n    })\n    $.searchArea = new DOM(DOM.get('form.search-area'))\n    $.searchBox = new DOM(DOM.get('form.search-area input'))\n    $.searchArea.$['action'] = DOM.get('link[rel=\"search\"]').href\n    $.body.append([$.searchAreaBg])\n\n    $.rightHeader = new DOM(DOM.get('header #right span.reverse')).append([$.changeTheme, $.searchButton])\n\n    $.relatedNext = DOM.get('.related .next')\n    $.relatedPrev = DOM.get('.related .prev')\n  }\n  /* Update GUI based on resize event */\n  handleResize () {\n    this.portrait = window.innerHeight > window.innerWidth ? true : false\n  }\n  /* Search shortcut */\n  search (e) {\n    if (e.code === 'IntlRo' && !this.$.searchArea.classList.contains('on')) {\n      DOM.switchState(this.$.searchArea)\n      DOM.switchState(this.$.searchAreaBg)\n      this.$.searchBox.focus()\n      this.$.searchBox.$.select()\n    } else if (e.code === 'Escape') {\n      if (this.$.searchArea.classList.contains('on')) {\n        DOM.switchState(this.$.searchArea)\n        DOM.switchState(this.$.searchAreaBg)\n      }\n    }\n  }\n  /* Related shortcut */\n  related (e) {\n    if (!localStorage.getItem('ctrlPressed'))\n      return\n\n    if (e.code == 'ArrowLeft' && this.$.relatedPrev)\n      location.href = this.$.relatedPrev.href\n    else if (e.code == 'ArrowRight' && this.$.relatedNext)\n      location.href = this.$.relatedNext.href\n  }\n\n  keyDown (e) {\n    if (e.key == 'Control')\n      localStorage.setItem('ctrlPressed', true)\n  }\n\n  keyUp (e) {\n    switch (e.key) {\n      case 'Control':\n        localStorage.removeItem('ctrlPressed')\n        break\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        this.related(e)\n        break\n      case '/':\n        this.search(e)\n    }\n\n    if (e.code === 'Escape')\n      this.search(e)\n  }\n  /**\n   * Init navigation.\n   */\n  init () {\n    onresize = () => {this.handleResize()}\n    document.addEventListener('keyup', (e) => {this.keyUp(e)}, false);\n    document.addEventListener('keydown', (e) => {this.keyDown(e)}, false);\n    this.dynamic()\n  }\n  /**\n   * Updates elements in a reactive manner,\n   * fetching from the main doctools/metadata.js,\n   * that contain the most up-to-date metadata\n   */\n  dynamic () {\n    /* Get dynamic elements */\n    let $ = this.$\n    $.repotocTreeOverlay = new DOM(DOM.get('.repotoc-tree.overlay root'))\n    $.repotocTreeSidebar = new DOM(DOM.get('.sphinxsidebar .repotoc-tree root'))\n\n    /* Fetch metadata */\n    let metadata = `${this.contentRoot}../doctools/metadata.json`\n\n    let promise = fetch(metadata, {\n      method: 'Get',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n\n    promise.then((response) => {\n      if (response.ok !== true) {\n        let err = \"navigation: unable to get metadata\"\n        if (location.hostname !== \"analogdevicesinc.github.io\")\n          console.log(`${err} (expected for local and offline installs)`)\n        else\n          console.warn(err)\n        return\n      }\n\n      return response.json()\n    }).then((json) => {\n      if (!json)\n        return\n\n      if ('repotoc' in json) {\n        this.dynamicRepoToc(json['repotoc'])\n      }\n    })\n  }\n  dynamicRepoToc (obj) {\n    let $ = this.$\n\n    let home = \"index.html\"\n    let links = []\n    for (const [key, value] of Object.entries(obj)) {\n      if (!('name' in value))\n        continue\n\n      let base = key == this.repo[0] ?\n                 `${this.contentRoot}` :\n                 `${this.contentRoot}../${key}/`\n      if ('topic' in value) {\n        for (const [key_, value_] of Object.entries(value['topic'])) {\n          if (typeof(value_) !== \"string\")\n            continue\n\n          let a = new DOM('a', {\n            'href': `${base}${key_}/${home}`,\n            'className': this.repo.join('/') === `${key}/${key_}` ? 'current' : ''\n          })\n          a.innerText = value_\n\n          links.push(a.$)\n        }\n      } else {\n        let a = new DOM('a', {\n          'href': `${base}${home}`,\n          'className': this.repo[0] === key ? 'current' : ''\n        })\n        a.innerText = value['name']\n        links.push(a.$)\n      }\n    }\n\n    if ($.repotocTreeOverlay.$)\n      $.repotocTreeOverlay.removeChilds(),\n      $.repotocTreeOverlay.append(links)\n    if ($.repotocTreeSidebar.$)\n      $.repotocTreeSidebar.removeChilds(),\n      $.repotocTreeOverlay.append(links)\n  }\n  /**\n   * Set items state.\n   * @param state - True for open, false for closed.\n   */\n  setState (items, state) {\n    items.forEach((elem) => {\n      if (state) {\n        elem.classList.add('on')\n      } else {\n        elem.classList.remove('on')\n      }\n    })\n  }\n  /**\n   * Get OS Theme\n   */\n  getOSTheme () {\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? 'dark' : 'light'\n  }\n}\n\nexport let navigation = new Navigation()\n","import '../style/bundle.scss'\nimport { navigation } from './navigation.js'\n\nexport default function App (){\n  window.app = {}\n\n  app.navigation = navigation\n\n  app.navigation.init()\n}\n\nApp()\n"],"names":["DOM","constructor","dom","tags","this","$","known_tags","document","createElement","tag","includes","dataset","innerText","str","height","offsetHeight","width","offsetWidth","id","value","src","focus","classList","style","onchange","self","ev","args","e","apply","Array","push","onclick","onup","addEventListener","ondown","onmove","onevent","event","fun","append","DOMS","forEach","item","test","name","appendChild","remove","removeChilds","child","lastElementChild","removeChild","get","a","b","querySelector","getAll","querySelectorAll","switchState","_class","cn","undefined","contains","add","UID","Date","toString","Math","random","substr","prototypeDetails","summary","details","prototypeInputFile","htmlFor","className","type","prototypeCheckSwitch","input","prototypeDownload","filename","file","data","reg","format","match","replaceAll","toLowerCase","encodeURIComponent","element","setAttribute","display","body","click","setSelected","i","options","length","text","selected","lazyUpdate","uid","props","param","key","navigation","portrait","isLocal","window","location","protocol","currentTheme","localStorage","getItem","ctrlPressed","contentRoot","metaRepo","repo","content","split","getOSTheme","searchButton","title","searchArea","searchAreaBg","searchBox","select","changeTheme","removeItem","setItem","href","rightHeader","relatedNext","relatedPrev","handleResize","innerHeight","innerWidth","search","code","related","keyDown","keyUp","init","onresize","dynamic","repotocTreeOverlay","repotocTreeSidebar","metadata","fetch","method","headers","then","response","ok","json","err","hostname","console","log","warn","dynamicRepoToc","obj","home","links","Object","entries","base","key_","value_","join","setState","items","state","elem","matchMedia","matches","App","app"],"mappings":"oOAIA,MAAMA,EACJ,WAAAC,CAAaC,EAAKC,GAEhB,GADAC,KAAKC,EACa,iBAAPH,EAET,YADAE,KAAKC,EAAIH,GAGX,IAAII,EAAa,CACf,YAAa,YAAa,KAAM,QAAS,YACzC,QAAS,WAAY,OAAQ,OAAQ,cAAe,UAAW,WAC/D,WAAY,MAAO,cAAe,UAAW,OAAQ,eACrD,OAAQ,SAAU,WAAY,YAAa,UAG7C,GADAF,KAAKC,EAAIE,SAASC,cAAeN,GACd,iBAARC,EAAkB,IAAK,MAAMM,KAAON,EACzCG,EAAWI,SAASD,GACtBL,KAAKC,EAAEI,GAAON,EAAKM,GAEnBL,KAAKC,EAAEM,QAAQF,GAAON,EAAKM,EAEhC,CAKD,aAAIG,CAAUC,GACZT,KAAKC,EAAEO,UAAYC,CACpB,CAID,aAAID,GACF,OAAOR,KAAKC,EAAEO,SACf,CAED,UAAIE,GACF,OAAOV,KAAKC,EAAEU,YACf,CAED,SAAIC,GACF,OAAOZ,KAAKC,EAAEY,WACf,CAED,MAAIC,GACF,OAAOd,KAAKC,EAAEa,EACf,CAED,MAAIA,CAAIL,GACNT,KAAKC,EAAEa,GAAIL,CACZ,CAED,SAAIM,GACF,OAAOf,KAAKC,EAAEc,KACf,CAED,SAAIA,CAAON,GACTT,KAAKC,EAAEc,MAAQN,CAChB,CAED,OAAIO,GACF,OAAOhB,KAAKC,EAAEe,GACf,CAED,OAAIA,CAAKP,GACPT,KAAKC,EAAEe,IAAMP,CACd,CAID,KAAAQ,GACEjB,KAAKC,EAAEgB,OACR,CAED,aAAIC,GACF,OAAOlB,KAAKC,EAAEiB,SACf,CAED,SAAIC,GACF,OAAOnB,KAAKC,EAAEkB,KACf,CAKD,QAAAC,CAAUC,EAAMC,EAAIC,GASpB,OAREvB,KAAKC,EAAEmB,SAAYI,SACE,IAARD,EACTD,EAAGG,MAAMJ,EAAM,CAACG,IACTD,EAAK1B,aAAe6B,QAC3BH,EAAKI,KAAKH,GACVF,EAAGG,MAAMJ,EAAME,GAChB,EAEEvB,IACN,CAKD,OAAA4B,CAASP,EAAMC,EAAIC,GASnB,OAREvB,KAAKC,EAAE2B,QAAWJ,SACG,IAARD,EACTD,EAAGG,MAAMJ,EAAM,CAACG,IACTD,EAAK1B,aAAe6B,QAC3BH,EAAKI,KAAKH,GACVF,EAAGG,MAAMJ,EAAME,GAChB,EAEEvB,IACN,CAKD,IAAA6B,CAAMR,EAAMC,EAAIC,GAShB,OAREvB,KAAKC,EAAE6B,iBAAiB,WAAYN,SACf,IAARD,EACTD,EAAGG,MAAMJ,EAAM,CAACG,IACTD,EAAK1B,aAAe6B,QAC3BH,EAAKI,KAAKH,GACVF,EAAGG,MAAMJ,EAAME,GAChB,IAEEvB,IACN,CAKD,MAAA+B,CAAQV,EAAMC,EAAIC,GASlB,OAREvB,KAAKC,EAAE6B,iBAAiB,aAAcN,SACjB,IAARD,EACTD,EAAGG,MAAMJ,EAAM,CAACG,IACTD,EAAK1B,aAAe6B,QAC3BH,EAAKI,KAAKH,GACVF,EAAGG,MAAMJ,EAAME,GAChB,IAEEvB,IACN,CAKD,MAAAgC,CAAQX,EAAMC,EAAIC,GASlB,OAREvB,KAAKC,EAAE6B,iBAAiB,aAAcN,SACjB,IAARD,EACTD,EAAGG,MAAMJ,EAAM,CAACG,IACTD,EAAK1B,aAAe6B,QAC3BH,EAAKI,KAAKH,GACVF,EAAGG,MAAMJ,EAAME,GAChB,IAEEvB,IACN,CAOD,OAAAiC,CAASC,EAAOb,EAAMc,EAAKZ,GAS3B,OAREvB,KAAKC,EAAE6B,iBAAiBI,GAAQV,SACX,IAARD,EACTY,EAAIV,MAAMJ,EAAM,CAACG,IACVD,EAAK1B,aAAe6B,QAC3BH,EAAKI,KAAKH,GACVW,EAAIV,MAAMJ,EAAME,GACjB,IAEEvB,IACN,CAKD,MAAAoC,CAAQC,GAWN,OAVIA,EAAKxC,aAAe6B,QACtBW,EAAO,CAACA,IAEVA,EAAKC,SAAUC,IACT,kBAAkBC,KAAKD,EAAK1C,YAAY4C,MAC1CzC,KAAKC,EAAEyC,YAAYH,GACG,iBAARA,GAAqB,kBAAkBC,KAAKD,EAAKtC,IAC/DD,KAAKC,EAAEyC,YAAYH,EAAKtC,EAAE,IAGvBD,IACR,CAID,SACEA,KAAKC,EAAE0C,QAER,CAID,YAAAC,GACE,IAAIC,EAAQ7C,KAAKC,EAAE6C,iBACnB,KAAOD,GACL7C,KAAKC,EAAE8C,YAAYF,GACnBA,EAAQ7C,KAAKC,EAAE6C,iBAEjB,OAAO9C,IACR,CAMD,UAAOgD,CAAKC,EAAGC,GAEb,YAAoB,KADpBA,EAAIA,aAAatD,EAAMsD,EAAEjD,EAAIiD,GACM/C,SAASgD,cAAeF,GAAKC,EAAEC,cAAcF,EACjF,CAMD,aAAOG,CAAOH,EAAGC,GAEf,MAAoB,iBADpBA,EAAIA,aAAatD,EAAMsD,EAAEjD,EAAIiD,GACGA,EAAEG,iBAAiBJ,GAAKD,IAAIE,GAAGG,iBAAiBJ,EACjF,CAMD,kBAAOK,CAAaJ,EAAGK,GAErB,IAAIC,EAAeC,MAAVF,EAAsBA,EAAS,MADxCL,EAAIA,aAAatD,EAAMsD,EAAEjD,EAAIiD,GAEvBhC,UAAUwC,SAASF,GACvBN,EAAEhC,UAAUyB,OAAOa,GAEnBN,EAAEhC,UAAUyC,IAAIH,EACnB,CAID,UAAOI,GACL,QAAS,IAAIC,MAAMC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,OAAO,EACrE,CASD,uBAAOC,CAAkBzD,GACvB,IAAI0D,EAAU,IAAIvE,EAAI,UAAW,CAACY,UAAUC,EAAID,YAC5C4D,EAAU,IAAIxE,EAAI,UAAW,CAACkB,GAAGL,EAAIK,GAAI2B,KAAKhC,EAAIK,KACnDsB,OAAO+B,GAaV,OAXmBV,MAAfhD,EAAIwB,SACNxB,EAAIwB,QAAQK,SAAQJ,IAClBA,EAAMX,KAAKI,KAAKyC,EAAQnE,GACxBkE,EAAQlC,QACNC,EAAMA,MACNA,EAAMb,KACNa,EAAMC,IACND,EAAMX,KACP,IAGE6C,CACR,CAQD,yBAAOC,CAAoB5D,GACzB,OAAO,IAAIb,EAAI,QAAS,CACtB0E,QAAQ,GAAG7D,EAAIK,WACfA,GAAGL,EAAIK,GACPyD,UAAU9D,EAAI8D,UACd/D,UAAUC,EAAID,YACX4B,OACD,IAAIxC,EAAI,QAAS,CAACkB,GAAG,GAAGL,EAAIK,WAAY0D,KAAK,SAElD,CASD,2BAAOC,CAAsBhE,GAC3B,IAAIiE,EAAQ,IAAI9E,EAAI,QAAS,CAC3BkB,GAAGL,EAAIK,GACP2B,KAAKhC,EAAIK,GACTyD,UAAU,cACVC,KAAK,WACLzD,OAAM,IAkBR,MAAO,CAAC2D,EAfQ,IAAI9E,EAAI,MAAO,CAAC2E,UAAU9D,EAAI8D,YAC3CnC,OAAO,CACN,IAAIxC,EAAI,OACLwC,OAAO,CACN,IAAIxC,EAAI,QAAS,CACb2E,UAAU,cACVD,QAAQ7D,EAAIK,GACZN,UAAUC,EAAID,YACb4B,OAAO,CACRsC,EACA,IAAI9E,EAAI,cAMrB,CAMD,wBAAO+E,CAAmBC,EAAUC,GAClC,IAAIC,EACAC,EAAM,iCACV,IAAKA,EAAIvC,KAAKoC,GACZ,OAEF,IAAII,EAASJ,EAASK,MAAMF,GAAK,GAMjC,OALAH,EAAWA,EACRM,WAAW,IAAI,KACfA,WAAW,IAAI,KACfC,cAEKH,GACN,IAAK,MACHF,EAAO,wCAA0CM,mBAAmBP,GACpE,MACF,IAAK,KACHC,EAAO,kCAAoCM,mBAAmBP,GAC9D,MACF,IAAK,OACHC,EAAO,gCAAkCM,mBAAmBP,GAC5D,MACF,IAAK,MACHC,EAAO,+BAAiCM,mBAAmBP,GAC3D,MACF,IAAK,MACHC,EAAO,oCAAsCM,mBAAmBP,GAChE,MACF,IAAK,MACHC,EAAOD,EAGX,IAAIQ,EAAUlF,SAASC,cAAc,KACrCiF,EAAQC,aAAa,OAAQR,GAC7BO,EAAQC,aAAa,WAAYV,GACjCS,EAAQlE,MAAMoE,QAAU,OAExBpF,SAASqF,KAAK9C,YAAY2C,GAC1BA,EAAQI,QACRtF,SAASqF,KAAKzC,YAAYsC,EAC3B,CAMD,kBAAOK,CAAa5F,EAAKiB,GACvB,IAAK,IAAI4E,EAAI,EAAGA,EAAI7F,EAAIG,EAAE2F,QAAQC,OAAQF,IACxC,GAAI7F,EAAIG,EAAE2F,QAAQD,GAAGG,MAAQ/E,EAE3B,YADAjB,EAAIG,EAAE2F,QAAQD,GAAGI,UAAW,EAIjC,CAUD,iBAAOC,CAAYlG,EAAKmG,EAAKC,EAAOC,GAClCA,EAAiB1C,MAAT0C,EAAqB,YAAcA,EAC3C,IAAId,EAAUzF,EAAIoD,IAAI,cAAciD,MAASnG,GAC7C,IAAK,MAAMsG,KAAOF,EAChBtG,EAAIoD,IAAI,IAAIoD,IAAOf,GAASc,GAASD,EAAME,EAE9C,ECzKI,IAAIC,EAAa,IAhOxB,MACE,WAAAxG,GACEG,KAAKsG,UAAW,EAChBtG,KAAKuG,QAAU,SAAWC,OAAOC,SAASC,SAC1C1G,KAAK2G,aAAeC,aAAaC,QAAQ,SACzC7G,KAAK8G,YAAcF,aAAaC,QAAQ,eACxC7G,KAAK+G,YAAcnH,EAAIoD,IAAI,QAAQzC,QAAsB,aAEzD,IAAIyG,EAAW7G,SAASgD,cAAc,qBACtCnD,KAAKiH,KAAOD,EAAWA,EAASE,QAAQC,MAAM,KAAO,CAAC,IAEtD,IAAIlH,EAAID,KAAKC,EAAI,CAAE,EACnBA,EAAEuF,KAAO,IAAI5F,EAAIA,EAAIoD,IAAI,SAEC,OAAtBhD,KAAK2G,eACP3G,KAAK2G,aAAe3G,KAAKoH,cAC3BnH,EAAEuF,KAAKtE,UAAUyC,IAAI,SACjB3D,KAAK2G,eAAiB3G,KAAKoH,cAC7BnH,EAAEuF,KAAKtE,UAAUyC,IAAI3D,KAAK2G,cAE7B1G,EAAEoH,aAAe,IAAIzH,EAAI,SAAU,CAChCkB,GAAG,SACHyD,UAAU,OACV+C,MAAM,eACL1F,QAAQ5B,MAAM,KACfJ,EAAI0D,YAAYrD,EAAEsH,YAClB3H,EAAI0D,YAAYrD,EAAEuH,cAClBvH,EAAEwH,UAAUxG,QACZhB,EAAEwH,UAAUxH,EAAEyH,QAAQ,IAEzBzH,EAAE0H,YAAc,IAAI/H,EAAI,SAAU,CAC/B2E,UAAiC,SAAtBvE,KAAK2G,aAA0B,UAAY,OACtD7F,GAAG,QACHwG,MAAM,iBACL1F,QAAQ5B,MAAM,KACfC,EAAEuF,KAAKtE,UAAUyB,OAAO3C,KAAK2G,cAC7B3G,KAAK2G,aAAqC,SAAtB3G,KAAK2G,aAA0B,QAAU,OACzD3G,KAAKoH,cAAgBpH,KAAK2G,aAC5BC,aAAagB,WAAW,UAExBhB,aAAaiB,QAAQ,QAAS7H,KAAK2G,cACnC1G,EAAEuF,KAAKtE,UAAUyC,IAAI3D,KAAK2G,cAC3B,IAGH1G,EAAEuH,aAAe,IAAI5H,EAAI,MAAO,CAC9B2E,UAAU,mBACT3C,QAAQ5B,MAAM,KACfJ,EAAI0D,YAAYrD,EAAEsH,YAClB3H,EAAI0D,YAAYrD,EAAEuH,aAAa,IAEjCvH,EAAEsH,WAAa,IAAI3H,EAAIA,EAAIoD,IAAI,qBAC/B/C,EAAEwH,UAAY,IAAI7H,EAAIA,EAAIoD,IAAI,2BAC9B/C,EAAEsH,WAAWtH,EAAU,OAAIL,EAAIoD,IAAI,sBAAsB8E,KACzD7H,EAAEuF,KAAKpD,OAAO,CAACnC,EAAEuH,eAEjBvH,EAAE8H,YAAc,IAAInI,EAAIA,EAAIoD,IAAI,+BAA+BZ,OAAO,CAACnC,EAAE0H,YAAa1H,EAAEoH,eAExFpH,EAAE+H,YAAcpI,EAAIoD,IAAI,kBACxB/C,EAAEgI,YAAcrI,EAAIoD,IAAI,iBACzB,CAED,YAAAkF,GACElI,KAAKsG,SAAWE,OAAO2B,YAAc3B,OAAO4B,UAC7C,CAED,MAAAC,CAAQ7G,GACS,WAAXA,EAAE8G,MAAsBtI,KAAKC,EAAEsH,WAAWrG,UAAUwC,SAAS,MAK3C,WAAXlC,EAAE8G,MACPtI,KAAKC,EAAEsH,WAAWrG,UAAUwC,SAAS,QACvC9D,EAAI0D,YAAYtD,KAAKC,EAAEsH,YACvB3H,EAAI0D,YAAYtD,KAAKC,EAAEuH,gBAPzB5H,EAAI0D,YAAYtD,KAAKC,EAAEsH,YACvB3H,EAAI0D,YAAYtD,KAAKC,EAAEuH,cACvBxH,KAAKC,EAAEwH,UAAUxG,QACjBjB,KAAKC,EAAEwH,UAAUxH,EAAEyH,SAOtB,CAED,OAAAa,CAAS/G,GACFoF,aAAaC,QAAQ,iBAGZ,aAAVrF,EAAE8G,MAAuBtI,KAAKC,EAAEgI,YAClCxB,SAASqB,KAAO9H,KAAKC,EAAEgI,YAAYH,KAClB,cAAVtG,EAAE8G,MAAwBtI,KAAKC,EAAE+H,cACxCvB,SAASqB,KAAO9H,KAAKC,EAAE+H,YAAYF,MACtC,CAED,OAAAU,CAAShH,GACM,WAATA,EAAE4E,KACJQ,aAAaiB,QAAQ,eAAe,EACvC,CAED,KAAAY,CAAOjH,GACL,OAAQA,EAAE4E,KACR,IAAK,UACHQ,aAAagB,WAAW,eACxB,MACF,IAAK,YACL,IAAK,aACH5H,KAAKuI,QAAQ/G,GACb,MACF,IAAK,IACHxB,KAAKqI,OAAO7G,GAGD,WAAXA,EAAE8G,MACJtI,KAAKqI,OAAO7G,EACf,CAID,IAAAkH,GACEC,SAAW,KAAO3I,KAAKkI,gBACvB/H,SAAS2B,iBAAiB,SAAUN,IAAOxB,KAAKyI,MAAMjH,EAAC,IAAI,GAC3DrB,SAAS2B,iBAAiB,WAAYN,IAAOxB,KAAKwI,QAAQhH,EAAC,IAAI,GAC/DxB,KAAK4I,SACN,CAMD,OAAAA,GAEE,IAAI3I,EAAID,KAAKC,EACbA,EAAE4I,mBAAqB,IAAIjJ,EAAIA,EAAIoD,IAAI,+BACvC/C,EAAE6I,mBAAqB,IAAIlJ,EAAIA,EAAIoD,IAAI,sCAGvC,IAAI+F,EAAW,GAAG/I,KAAK+G,uCAETiC,MAAMD,EAAU,CAC5BE,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAIZC,MAAMC,IACZ,IAAoB,IAAhBA,EAASC,GASb,OAAOD,EAASE,OAThB,CACE,IAAIC,EAAM,qCACgB,+BAAtB9C,SAAS+C,SACXC,QAAQC,IAAI,GAAGH,+CAEfE,QAAQE,KAAKJ,EAEhB,CAEqB,IACrBJ,MAAMG,IACFA,GAGD,YAAaA,GACftJ,KAAK4J,eAAeN,EAAc,QACnC,GAEJ,CACD,cAAAM,CAAgBC,GACd,IAAI5J,EAAID,KAAKC,EAET6J,EAAO,aACPC,EAAQ,GACZ,IAAK,MAAO3D,EAAKrF,KAAUiJ,OAAOC,QAAQJ,GAAM,CAC9C,KAAM,SAAU9I,GACd,SAEF,IAAImJ,EAAO9D,GAAOpG,KAAKiH,KAAK,GACjB,GAAGjH,KAAK+G,cACR,GAAG/G,KAAK+G,iBAAiBX,KACpC,GAAI,UAAWrF,EACb,IAAK,MAAOoJ,EAAMC,KAAWJ,OAAOC,QAAQlJ,EAAa,OAAI,CAC3D,GAAuB,iBAAnB,EACF,SAEF,IAAIkC,EAAI,IAAIrD,EAAI,IAAK,CACnBkI,KAAQ,GAAGoC,IAAOC,KAAQL,IAC1BvF,UAAavE,KAAKiH,KAAKoD,KAAK,OAAS,GAAGjE,KAAO+D,IAAS,UAAY,KAEtElH,EAAEzC,UAAY4J,EAEdL,EAAMpI,KAAKsB,EAAEhD,EACd,KACI,CACL,IAAIgD,EAAI,IAAIrD,EAAI,IAAK,CACnBkI,KAAQ,GAAGoC,IAAOJ,IAClBvF,UAAavE,KAAKiH,KAAK,KAAOb,EAAM,UAAY,KAElDnD,EAAEzC,UAAYO,EAAY,KAC1BgJ,EAAMpI,KAAKsB,EAAEhD,EACd,CACF,CAEGA,EAAE4I,mBAAmB5I,IACvBA,EAAE4I,mBAAmBjG,eACrB3C,EAAE4I,mBAAmBzG,OAAO2H,IAC1B9J,EAAE6I,mBAAmB7I,IACvBA,EAAE6I,mBAAmBlG,eACrB3C,EAAE4I,mBAAmBzG,OAAO2H,GAC/B,CAKD,QAAAO,CAAUC,EAAOC,GACfD,EAAMjI,SAASmI,IACTD,EACFC,EAAKvJ,UAAUyC,IAAI,MAEnB8G,EAAKvJ,UAAUyB,OAAO,KACvB,GAEJ,CAID,UAAAyE,GACE,OAAOZ,OAAOkE,WAAW,gCAAgCC,QAAU,OAAS,OAC7E,GChOY,SAASC,IACtBpE,OAAOqE,IAAM,CAAE,EAEfA,IAAIxE,WAAaA,EAEjBwE,IAAIxE,WAAWqC,MACjB,QAEAkC"}