{"version":3,"file":"app.umd.js","sources":["../scripts/dom.js","../scripts/navigation.js","../scripts/app.js"],"sourcesContent":["\"use strict\";\nexport {DOM, Animate}\n\n/** Make DOM element*/\nclass DOM {\n  constructor (dom, tags){\n    this.$\n    if (typeof dom != 'string'){\n      this.$ = dom\n      return\n    }\n    let known_tags = [\n      'innerText', 'className', 'id', 'title', 'innerText',\n      'value', 'tabIndex', 'role', 'href', 'ariaPressed', 'preload', 'controls',\n      'autoplay', 'src', 'placeholder', 'htmlFor', 'type', 'autocomplete',\n      'name', 'accept', 'disabled', 'innerHTML', 'action'\n    ]\n    this.$ = document.createElement (dom);\n    if (typeof tags == 'object') for (const tag in tags) {\n      if (known_tags.includes(tag))\n        this.$[tag] = tags[tag]\n      else\n        this.$.dataset[tag] = tags[tag]\n    }\n  }\n  /**\n   * Clone node\n   * @param {bool} deep - If true, then the node and its whole subtree,\n   * including text that may be in child Text nodes, is also copied.\n   */\n  cloneNode (deep){\n    let node = new DOM(this.$.cloneNode(deep))\n    return node\n  }\n  /**\n   * Set DOM innerText.\n   * @param {string} str - Text to apply.\n   */\n  set innerText(str){\n    this.$.innerText = str\n  }\n  /**\n   * Get DOM innerText.\n   */\n  get innerText(){\n    return this.$.innerText\n  }\n  /** Get DOM offset height */\n  get height (){\n    return this.$.offsetHeight\n  }\n  /** Get DOM offset width */\n  get width (){\n    return this.$.offsetWidth\n  }\n  /** Get DOM id */\n  get id (){\n    return this.$.id\n  }\n  /** Set DOM id */\n  set id (str){\n    this.$.id= str\n  }\n  /** Get DOM value */\n  get value (){\n    return this.$.value\n  }\n  /** Set DOM value */\n  set value (str){\n    this.$.value = str\n  }\n  /** Get DOM src */\n  get src (){\n    return this.$.src\n  }\n  /** Set DOM src */\n  set src (str){\n    this.$.src = str\n  }\n  /**\n   * Focus on DOM.\n   */\n  focus (){\n    this.$.focus()\n  }\n  /** Get DOM classList object. */\n  get classList(){\n    return this.$.classList\n  }\n  /** Get DOM style object. */\n  get style(){\n    return this.$.style\n  }\n  /**\n   * Append a ``onchange`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onchange (self, ev, args){\n    this.$.onchange = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n  return this\n  }\n  /**\n   * Append a ``onclick`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onclick (self, ev, args){\n    this.$.onclick = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n  return this\n  }\n  /**\n   * Append a ``mouseup`` and ``touchup`` event.\n   * @param {function} ev - Function to be executed on up.\n   */\n  onup (self, ev, args){\n    this.$.addEventListener('mouseup', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Append a ``mousedown`` and ``touchdown`` event.\n   * @param {function} ev - Function to be executed on down.\n   */\n  ondown (self, ev, args){\n    this.$.addEventListener('mousedown', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Append a ``mousemove`` and ``touchmove`` event.\n   * @param {function} ev - Function to be executed on move.\n   */\n  onmove (self, ev, args){\n    this.$.addEventListener('mousemove', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Append a event listener.\n   * @param {string} event - Event listener name.\n   * @param {function} fun - Function to be executed on move.\n   * @param {function} args - Arguments to be applied to the function.\n   */\n  onevent (event, self, fun, args){\n    this.$.addEventListener(event, (e) => {\n      if (typeof args == 'undefined')\n        fun.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        fun.apply(self, args)\n      }\n    })\n  return this\n  }\n  /**\n   * Appends others :js:func:`DOM`.\n   * @param {Object[]} DOMS - Array of :js:func:`DOM` or/and direct DOM Nodes.\n   */\n  append (DOMS){\n    if (DOMS.constructor != Array)\n      DOMS = [DOMS]\n\n    DOMS.forEach ((item) => {\n      if (/HTML(.*)Element/.test(item.constructor.name))\n        this.$.appendChild(item)\n      else if (typeof item == 'object' &&\n               /HTML(.*)Element/.test(item.$.constructor.name))\n        this.$.appendChild(item.$)\n    })\n\n    return this\n  }\n  /**\n   * Delete object.\n   */\n  delete (){\n    this.$.remove()\n    delete this\n  }\n  /**\n   * Remove childs from :js:func:`DOM` object.\n   */\n  removeChilds (){\n    let child = this.$.lastElementChild\n    while (child) {\n      this.$.removeChild(child)\n      child = this.$.lastElementChild\n    }\n    return this\n  }\n  /**\n   * Get DOM Node element.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Optional parent DOM.\n   */\n  static get (a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'undefined') ? document.querySelector (a) : b.querySelector(a)\n  }\n  /**\n   * Get all DOM Node elements.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Parent DOM.\n   */\n  static getAll(a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'object') ? b.querySelectorAll(a) : get(b).querySelectorAll(a)\n  }\n  /**\n   * Include or remove a class to a DOM.\n   * @param {Object} b - Target DOM.\n   * @param {string} _class - Optional class, defaults to `on`.\n   */\n  static switchState (b, _class){\n    b = b instanceof DOM ? b.$ : b\n    let cn = _class != undefined ? _class : `on`\n    if (b.classList.contains(cn))\n      b.classList.remove(cn)\n    else\n      b.classList.add(cn)\n  }\n  /**\n  * Generate a unique identifier.\n  */\n  static UID (){\n    return (+new Date).toString(36) + Math.random().toString(36).substr(2)\n  }\n  /**\n   * Prototype a DOM composed by details, sumamary and a h2 title with optional\n   * onclick event.\n   * @param {Object} str - id, title and onclick function of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.title - Title of the DOM element.\n   * @param {Object} str.onclick - Onclick function of the DOM element.\n   */\n  static prototypeDetails (str){\n    let summary = new DOM('summary', {innerText:str.innerText})\n    let details = new DOM('details', {id:str.id, name:str.id})\n      .append(summary)\n\n    if (str.onevent != undefined) {\n      str.onevent.forEach(event => {\n        event.args.push(details.$)\n        summary.onevent(\n          event.event,\n          event.self,\n          event.fun,\n          event.args\n        )\n      })\n    }\n    return details\n  }\n  /**\n   * Prototype a DOM composed by input(file type) and label.\n   * @param {Object} str - id, className and innerText of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.className - ClassName of the DOM element.\n   * @param {string} str.innerText - Inner text of the DOM element.\n   */\n  static prototypeInputFile (str){\n    return new DOM('label', {\n      htmlFor:`${str.id}_input`,\n      id:str.id,\n      className:str.className,\n      innerText:str.innerText\n      }).append(\n        new DOM('input', {id:`${str.id}_input`, type:'file'})\n      )\n  }\n  /**\n   * Prototype a DOM composed by input(checkbox) and label styled as as switch.\n   * @param {Object} str - id, className and innerText of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.className - ClassName of the DOM element.\n   * @param {string} str.innerText - Inner text of the DOM element.\n   * @returns Array with input and container.\n   */\n  static prototypeCheckSwitch (str){\n    let input = new DOM('input', {\n      id:str.id,\n      name:str.id,\n      className:'checkswitch',\n      type:'checkbox',\n      value:false\n    })\n\n    let container = new DOM('div', {className:str.className})\n      .append([\n        new DOM('div')\n          .append([\n            new DOM('label', {\n                className:'checkswitch',\n                htmlFor:str.id,\n                innerText:str.innerText\n              }).append([\n                input,\n                new DOM('span')\n              ])\n          ])\n      ])\n\n    return [input, container]\n  }\n  /**\n   * Prototype a DOM that allows data to be downloded on its creation.\n   * @param {string} filename - name of the file.\n   * @param {string} file - file content.\n   */\n  static prototypeDownload (filename, file){\n    let data,\n        reg = /.*\\.(py|xml|csv|json|svg|png)$/\n    if (!reg.test(filename))\n      return\n\n    let format = filename.match(reg)[1]\n    filename = filename\n      .replaceAll('/','-')\n      .replaceAll(' ','_')\n      .toLowerCase()\n\n    switch (format) {\n      case 'xml':\n        data = \"data:x-application/xml;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'py':\n        data = \"data:text/python;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'json':\n        data = \"data:text/json;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'csv':\n        data = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'svg':\n        data = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'png':\n        data = file; // Expect already in blob\n        break\n    }\n    let element = document.createElement('a')\n    element.setAttribute('href', data)\n    element.setAttribute('download', filename)\n    element.style.display = 'none'\n\n    document.body.appendChild(element)\n    element.click ()\n    document.body.removeChild(element)\n  }\n  /**\n   * Set a option of a select list by its innerText.\n   * @param {Object} dom - Node of the select list.\n   * @param {string} value - Inner text of the target option.\n   */\n  static setSelected (dom, value){\n    for (var i = 0; i < dom.$.options.length; i++){\n      if (dom.$.options[i].text == value){\n        dom.$.options[i].selected = true\n        return\n      }\n    }\n  }\n  /**\n   * Updates parameter of children of a DOM.\n   * Lazy because doesn't care is successful or not.\n   * Useful for generic lists, like in searches.\n   * @param {Object} dom - Container of the list.\n   * @param {string} uid - Item to search for.\n   * @param {Object} props - Properties to update, where the key is also the DOM id.\n   * @param {string} param - Parameter to update.\n   */\n  static lazyUpdate (dom, uid, props, param){\n    param = param == undefined ? 'innerText' : param\n    let element = DOM.get(`[data-uid='${uid}']`, dom)\n    for (const key in props){\n      DOM.get(`#${key}`, element)[param] = props[key]\n    }\n  }\n}\n","\"use strict\";\n\nimport {DOM} from './dom.js'\nimport {Toolbox} from './toolbox.js'\n\n/* Handle navigation, theming, search, shortcuts */\nclass Navigation {\n  constructor () {\n    this.portrait = false\n    this.offline = 'file:' == window.location.protocol\n    this.currentTheme = localStorage.getItem('theme')\n    this.ctrlPressed = localStorage.getItem('ctrlPressed')\n    this.contentRoot = DOM.get('html').dataset['content_root']\n\n    let metaRepo = document.querySelector('meta[name=\"repo\"]')\n    this.repo = metaRepo ? metaRepo.content.split('/') : ['']\n\n    let $ = this.$ = {}\n    $.body = new DOM(DOM.get('body'))\n\n    if (this.currentTheme === null)\n      this.currentTheme = this.getOSTheme()\n    $.body.classList.add('js-on')\n    if (this.currentTheme !== this.getOSTheme())\n      $.body.classList.add(this.currentTheme)\n\n\t  $.searchButton = new DOM('button', {\n      id:'search',\n      className:'icon',\n      title:'Search (/)'\n    }).onclick(this, () => {\n      DOM.switchState($.searchArea)\n      DOM.switchState($.searchAreaBg)\n      $.searchBox.focus()\n      $.searchBox.$.select()\n    })\n\t  $.changeTheme = new DOM('button', {\n      className: this.currentTheme === 'dark' ? 'icon on' : 'icon',\n      id:'theme',\n      title:'Switch theme'\n    }).onclick(this, () => {\n      $.body.classList.remove(this.currentTheme)\n      this.currentTheme = this.currentTheme === 'dark' ? 'light' : 'dark'\n      if (this.getOSTheme() == this.currentTheme)\n        localStorage.removeItem('theme')\n      else {\n        localStorage.setItem('theme', this.currentTheme)\n        $.body.classList.add(this.currentTheme)\n      }\n    })\n\n    $.searchAreaBg = new DOM('div', {\n      className:'search-area-bg'\n    }).onclick(this, () => {\n      DOM.switchState($.searchArea)\n      DOM.switchState($.searchAreaBg)\n    })\n    $.searchArea = new DOM(DOM.get('form.search-area'))\n    $.searchBox = new DOM(DOM.get('form.search-area input'))\n    $.searchArea.$['action'] = DOM.get('link[rel=\"search\"]').href\n    $.body.append([$.searchAreaBg])\n\n    $.rightHeader = new DOM(DOM.get('header #right span.reverse')).append([$.changeTheme, $.searchButton])\n\n    $.relatedNext = DOM.get('.related .next')\n    $.relatedPrev = DOM.get('.related .prev')\n  }\n  /* Update GUI based on resize event */\n  handleResize () {\n    this.portrait = window.innerHeight > window.innerWidth ? true : false\n  }\n  /* Search shortcut */\n  search (e) {\n    if (e.key === '/' && !this.$.searchArea.classList.contains('on')) {\n      DOM.switchState(this.$.searchArea)\n      DOM.switchState(this.$.searchAreaBg)\n      this.$.searchBox.focus()\n      this.$.searchBox.$.select()\n    } else if (e.code === 'Escape') {\n      if (this.$.searchArea.classList.contains('on')) {\n        DOM.switchState(this.$.searchArea)\n        DOM.switchState(this.$.searchAreaBg)\n      }\n    }\n  }\n  /* Related shortcut */\n  related (e) {\n    if (!e.ctrlKey)\n      return\n\n    if (e.code == 'ArrowLeft' && this.$.relatedPrev)\n      location.href = this.$.relatedPrev.href\n    else if (e.code == 'ArrowRight' && this.$.relatedNext)\n      location.href = this.$.relatedNext.href\n  }\n\n  keyUp (e) {\n    switch (e.key) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        this.related(e)\n        break\n      case '/':\n        this.search(e)\n    }\n\n    if (e.code === 'Escape')\n      this.search(e)\n  }\n  /**\n   * Init navigation.\n   */\n  init () {\n    onresize = () => {this.handleResize()}\n    document.addEventListener('keyup', (e) => {this.keyUp(e)}, false);\n    this.dynamic()\n  }\n  /**\n   * Updates elements in a reactive manner,\n   * fetching from the main doctools/metadata.js,\n   * that contain the most up-to-date metadata\n   * TODO consider versioned depth\n   */\n  dynamic () {\n    if (this.offline)\n      console.log(\"navigation: dynamic features are not available in offline mode\")\n      return\n\n    /* Get dynamic elements */\n    let $ = this.$\n    $.repotocTreeOverlay = new DOM(DOM.get('.repotoc-tree.overlay root'))\n    $.repotocTreeSidebar = new DOM(DOM.get('.sphinxsidebar .repotoc-tree root'))\n\n    /* Fetch metadata */\n    let metadata = `${this.contentRoot}../doctools/metadata.json`\n\n    fetch(metadata, {\n      method: 'Get',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then((response) => {\n      if (response.ok !== true) {\n        return\n      }\n\n      return response.json()\n    }).then((json) => {\n      if (!json)\n        return\n\n      if ('repotoc' in json) {\n        this.dynamicRepoToc(json['repotoc'])\n      }\n    }).catch((e) => {\n      return\n    })\n  }\n\n  dynamicRepoToc (obj) {\n    let $ = this.$\n\n    let home = \"index.html\"\n    let linksOverlay = [],\n        linksSidebar = []\n    for (const [key, value] of Object.entries(obj)) {\n      if (!('name' in value))\n        continue\n\n      let base = key == this.repo[0] ?\n                 `${this.contentRoot}` :\n                 `${this.contentRoot}../${key}/`\n      if ('topic' in value) {\n        for (const [key_, value_] of Object.entries(value['topic'])) {\n          if (typeof(value_) !== \"string\")\n            continue\n\n          let a = new DOM('a', {\n            'href': `${base}${key_}/${home}`,\n            'className': this.repo.join('/') === `${key}/${key_}` ? 'current' : ''\n          })\n          a.innerText = value_\n\n          linksSidebar.push(a)\n        }\n      } else {\n        let a = new DOM('a', {\n          'href': `${base}${home}`,\n          'className': this.repo[0] === key ? 'current' : ''\n        })\n        a.innerText = value['name']\n        linksSidebar.push(a)\n      }\n    }\n\n    linksSidebar.forEach((elem) => {\n      linksOverlay.push(elem.cloneNode(true))\n    })\n\n    if ($.repotocTreeOverlay.$)\n      $.repotocTreeOverlay.removeChilds(),\n      $.repotocTreeOverlay.append(linksOverlay)\n    if ($.repotocTreeSidebar.$)\n      $.repotocTreeSidebar.removeChilds(),\n      $.repotocTreeSidebar.append(linksSidebar)\n  }\n  /**\n   * Set items state.\n   * @param state - True for open, false for closed.\n   */\n  setState (items, state) {\n    items.forEach((elem) => {\n      if (state) {\n        elem.classList.add('on')\n      } else {\n        elem.classList.remove('on')\n      }\n    })\n  }\n  /**\n   * Get OS Theme\n   */\n  getOSTheme () {\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? 'dark' : 'light'\n  }\n}\n\nexport let navigation = new Navigation()\n","import '../style/bundle.scss'\nimport { navigation } from './navigation.js'\n\nexport default function App (){\n  window.app = {}\n\n  app.navigation = navigation\n\n  app.navigation.init()\n}\n\nApp()\n"],"names":["DOM","constructor","dom","tags","this","$","known_tags","document","createElement","tag","includes","dataset","cloneNode","deep","innerText","str","height","offsetHeight","width","offsetWidth","id","value","src","focus","classList","style","onchange","self","ev","args","e","apply","Array","push","onclick","onup","addEventListener","ondown","onmove","onevent","event","fun","append","DOMS","forEach","item","test","name","appendChild","remove","removeChilds","child","lastElementChild","removeChild","get","a","b","querySelector","getAll","querySelectorAll","switchState","_class","cn","undefined","contains","add","UID","Date","toString","Math","random","substr","prototypeDetails","summary","details","prototypeInputFile","htmlFor","className","type","prototypeCheckSwitch","input","prototypeDownload","filename","file","data","reg","format","match","replaceAll","toLowerCase","encodeURIComponent","element","setAttribute","display","body","click","setSelected","i","options","length","text","selected","lazyUpdate","uid","props","param","key","navigation","portrait","offline","window","location","protocol","currentTheme","localStorage","getItem","ctrlPressed","contentRoot","metaRepo","repo","content","split","getOSTheme","searchButton","title","searchArea","searchAreaBg","searchBox","select","changeTheme","removeItem","setItem","href","rightHeader","relatedNext","relatedPrev","handleResize","innerHeight","innerWidth","search","code","related","ctrlKey","keyUp","init","onresize","dynamic","console","log","dynamicRepoToc","obj","home","linksOverlay","linksSidebar","Object","entries","base","key_","value_","join","elem","repotocTreeOverlay","repotocTreeSidebar","setState","items","state","matchMedia","matches","App","app"],"mappings":"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"}