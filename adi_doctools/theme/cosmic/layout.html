{%- extends "basic/layout.html" %}

{%- block extrahead %}
  {{ super() }}
  {% if theme_no_index %}
    <meta name="robots" content="noindex">
  {% endif %}
{% endblock %}

{# top+bottom related navs; we also have our own in sidebar #}
{%- macro rellink_markup() %}
  {%- if prev %}
    <a href="{{ prev.link|e }}" title="Previous document" class="prev">{{ prev.title }}</a>
  {%- else %}
    <div></div>
  {%- endif %}
  {%- if next %}
    <a href="{{ next.link|e }}" title="Next document" class="next">{{ next.title }}</a>
  {%- else %}
    <div></div>
  {%- endif %}
{%- endmacro %}

{# remove basic inherited related sidebars #}
{%- block relbar1 %}{% endblock %}
{%- block relbar2 %}{% endblock %}

{%- block header %}
  <input type="checkbox" id="input-showsidebar">
  <input type="checkbox" id="input-showonthispage">
  <header>
    <div class="header">
      <div id="left">
        <label id="show-sidebar" for="input-showsidebar" title="Show/hide index"></label>
      </div>
      <div id="right">
        <div id="logo"></div>
        <span>
          <label id="show-onthispage" for="input-showonthispage" title="Show/hide contents"></label>
        </span>
      </div>
    </div>
    <div class="subdomain-tree">
      {{ subdomain_tree }}
    </div>
  </header>
{% endblock %}

{%- block content %}

  {%- block toc %}
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="onthispage">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          {{ toc }}
        </nav>
      </div>
    </div>
  {%- endblock %}

  {{ sidebar() }}

  <div class="document">
    {%- block document %}
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            {% block body %} {% endblock %}
          </div>

          {%- block relbar_bottom %}
            {%- if theme_show_relbar %}
              <div class="related">
                &nbsp;
                {{- rellink_markup () }}
              </div>
            {%- endif %}
          {% endblock %}
        </div>
      </div>
    {%- endblock %}
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-showsidebar" for="input-showsidebar"></label>
  <label id="cancel-area-showonthispage" for="input-showonthispage"></label>

  {% block searchbox %}
  <form action="" method="get" class="search-area">
    <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
    <button value="{{ _('search') }}"></button>
    <span id="search-progress"></span>
  </form>
  {% endblock %}
{%- endblock %}

{%- block footer %}
    <footer>
      {% if show_copyright %}&#169;{{ copyright }}{% endif %}
      {% if show_sphinx %}
      {% if show_copyright %}|{% endif %}
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      {% endif %}
    </footer>
{%- endblock %}
