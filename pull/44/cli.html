<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="&quot;Serve&quot; launches a live doc server, &quot;custom doc&quot; generates a custom html or pdf, with only the content that matters, and &quot;aggregate&quot; builds all docs at once." name="description" />

    <title>Command line interface &#8212; Doctools  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="_static/app.min.css?v=8540d5ae" />
    <script async="async" src="_static/app.umd.js?v=88a51d40"></script>
    <link rel="icon" href="_static/icon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Documentation deployment" href="deploy.html" />
    <link rel="prev" title="Custom roles" href="docs_guidelines/roles.html" />
   
  
  
  <meta name="repository" content="doctools">
  <meta name="version" content="v0.4.20">
  
    <meta name="page_source_suffix" content=".rst">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="index.html">
          <div>Doctools</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="./index.html" class="current">Doctools</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Command line interface</a><ul>
<li><a class="reference internal" href="#serve">Serve</a><ul>
<li><a class="reference internal" href="#git-lfs-integration">Git LFS integration</a></li>
<li><a class="reference internal" href="#how-can-i-rebuild-the-whole-documentation-within-serve">How can I rebuild the whole documentation within Serve?</a></li>
<li><a class="reference internal" href="#why-is-the-output-missing-styling-css-stylesheet">Why is the output missing styling (CSS stylesheet)?</a></li>
<li><a class="reference internal" href="#why-is-the-python-source-code-of-this-repo-not-watched">Why is the Python source code of this repo not watched?</a></li>
<li><a class="reference internal" href="#why-was-author-mode-renamed-to-serve">Why was Author Mode renamed to Serve?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-doc">Custom Doc</a><ul>
<li><a class="reference internal" href="#working-with-multiple-docs">Working with multiple docs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#aggregate">Aggregate</a></li>
<li><a class="reference internal" href="#hdl-render">HDL Render</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="index.html">
      Doctools
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="./index.html" class="current">Doctools</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="fundamentals.html">Fundamentals</a></li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="docs_guidelines/index.html">Documentation guidelines</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="docs_guidelines/directives.html">Custom directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="docs_guidelines/roles.html">Custom roles</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Documentation deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci.html">Continuous integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="theme.html">Sphinx theme</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb empty"><ol></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="command-line-interface">
<span id="cli"></span><h1>Command line interface<a class="headerlink" href="#command-line-interface" title="Link to this heading"></a></h1>
<p>The Doctools bundles a command line interface called <code class="docutils literal notranslate"><span class="pre">adoc</span></code> meant to ease both
continuous integration and local builds of the documentation.</p>
<p>Below, it is briefly described each command, and it is worth noting that every
command supports the <code class="docutils literal notranslate"><span class="pre">--help</span></code> option for quick look up.</p>
<section id="serve">
<span id="id1"></span><h2>Serve<a class="headerlink" href="#serve" title="Link to this heading"></a></h2>
<p>Watches the docs and source code to rebuild it on edit.
Similar to <code class="docutils literal notranslate"><span class="pre">mkdocs</span> <span class="pre">serve</span></code>, <code class="docutils literal notranslate"><span class="pre">webpack</span> <span class="pre">serve</span></code>, <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">hugo</span> <span class="pre">server</span></code>,
and so on.</p>
<p>Two HTML live update strategies are available:</p>
<ul class="simple">
<li><p>pooling: The webpage pools timestamp changes on the <code class="docutils literal notranslate"><span class="pre">.dev-pool</span></code> file (default).</p></li>
<li><p>selenium: Page reloads through Firefox’s API (optional).</p></li>
</ul>
<p>To launch a watched instance, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/path/to/docs
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>/path/to/docs$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>serve
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Where <code class="docutils literal notranslate"><span class="pre">/path/to/docs</span></code> is the path to the folder contain the Sphinx’s <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>.</p>
<p>To also watch changes made to theme itself, use the <code class="docutils literal notranslate"><span class="pre">--dev</span></code> option, just make
sure to have Doctools as <a class="reference internal" href="install.html#development-install"><span class="std std-ref">Development install</span></a>.</p>
<p>For PDF output, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>/path/to/docs$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>serve<span class="w"> </span>--builder<span class="w"> </span>pdf
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Make sure to use an PDF viewer that watches the file timestamp
and automatically reloads, such as Gnome PDF (Evince).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The PDF’s table of contents depth is set by the top index page’s
<code class="docutils literal notranslate"><span class="pre">maxdepth</span></code> property of the toctree.</p>
</div>
<p>All options can be listed with:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>serve<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div><section id="git-lfs-integration">
<span id="serve-lfs"></span><h3>Git LFS integration<a class="headerlink" href="#git-lfs-integration" title="Link to this heading"></a></h3>
<p>Serve detects if a repository uses <a class="icon link reference external" href="https://git-lfs.com" target="_blank">Git Large File Storage</a>
to fetch (smudge) the watched binaries on demand.</p>
<p>This enables users to clone a repo with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">lfs</span> <span class="pre">install</span> <span class="pre">--skip-smudge</span></code>
and only fetch, on demand, the binary resources they are working on,
significantly reducing clone time and bandwidth usage.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><code class="docutils literal notranslate"><span class="pre">GIT_LFS_SKIP_SMUDGE=1</span></code> and <code class="docutils literal notranslate"><span class="pre">--skip-smudge</span></code> are not identical!</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Still fetches with either set.</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>lfs<span class="w"> </span>pull<span class="w"> </span>-I<span class="w"> </span>pointer_file
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Only fetches with --skip-smudge, skipped with GIT_LFS_SKIP_SMUDGE=1</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>lfs<span class="w"> </span>smudge<span class="w"> </span>&lt;<span class="w"> </span>pointer_file<span class="w"> </span>&gt;<span class="w"> </span>/tmp/file.png
</pre></div>
</div>
<div class="clear-left"></div></div></div></div>
<p>The per-file fetch is triggered by a GET request, such as when opening the
local server page in a browser, or by touching the watched source file.</p>
<p>The HTML GET request triggers a fetch for all Git LFS rules on the
<em>.gitattributes</em> file, while a “touch” only works on file types that are
also watched by the server.</p>
<p>If neither the GET request nor the touch file to fetch is suitable,
it is possible to pull the file directly with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>lfs<span class="w"> </span>pull<span class="w"> </span>public<span class="w"> </span>-I<span class="w"> </span>file_basename
</pre></div>
</div>
<p>Be mindful of the <code class="docutils literal notranslate"><span class="pre">file_basename</span></code>, e.g. <em>my_image.jpg</em>,
full paths like <em>path/to/my_image.jpg</em> will silently fail.</p>
</section>
<section id="how-can-i-rebuild-the-whole-documentation-within-serve">
<h3>How can I rebuild the whole documentation within Serve?<a class="headerlink" href="#how-can-i-rebuild-the-whole-documentation-within-serve" title="Link to this heading"></a></h3>
<p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> in another tab, it will trigger a full rebuild.</p>
<p>Do <strong>not</strong> do <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span> <span class="pre">html</span></code> since it will generate a build without the
proper Serve environment and live reload won’t work properly.</p>
</section>
<section id="why-is-the-output-missing-styling-css-stylesheet">
<h3>Why is the output missing styling (CSS stylesheet)?<a class="headerlink" href="#why-is-the-output-missing-styling-css-stylesheet" title="Link to this heading"></a></h3>
<p>You probably did a <a class="reference internal" href="install.html#development-install"><span class="std std-ref">Development install</span></a> without <a class="reference internal" href="install.html#web-compiler"><span class="std std-ref">Install the web compiler</span></a>
and you are building directly (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code>) instead of using Serve.</p>
<p>If you don’t want to install <code class="docutils literal notranslate"><span class="pre">npm</span></code>, use Serve and accept the prompt to
fetch the pre-built web-scripts from the latest release.</p>
</section>
<section id="why-is-the-python-source-code-of-this-repo-not-watched">
<h3>Why is the Python source code of this repo not watched?<a class="headerlink" href="#why-is-the-python-source-code-of-this-repo-not-watched" title="Link to this heading"></a></h3>
<p>Since a Python scripts change would affect rebuilding the whole documentation,
those files are not watched by design even with the <code class="docutils literal notranslate"><span class="pre">--dev</span></code> option.
Extensions at the doc itself are, however.</p>
<p>Alternatively, touch the source doc of the open page to rebuild only it
with the edited Python code.</p>
</section>
<section id="why-was-author-mode-renamed-to-serve">
<span id="author-mode"></span><h3>Why was Author Mode renamed to Serve?<a class="headerlink" href="#why-was-author-mode-renamed-to-serve" title="Link to this heading"></a></h3>
<p>Solely to match other tools like <code class="docutils literal notranslate"><span class="pre">mkdocs</span> <span class="pre">serve</span></code>, <code class="docutils literal notranslate"><span class="pre">webpack</span> <span class="pre">serve</span></code>,
<code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">hugo</span> <span class="pre">server</span></code>.</p>
</section>
</section>
<section id="custom-doc">
<span id="id2"></span><h2>Custom Doc<a class="headerlink" href="#custom-doc" title="Link to this heading"></a></h2>
<p>Generates custom documents with filtered content from all documentations of the
watched repositories (see <a class="icon git reference external" href="https://github.com/analogdevicesinc/doctools/tree/main/adi_doctools/lut.py" target="_blank">adi_doctools/lut.py</a>).</p>
<p>For PDF output, <a class="icon link reference external" href="https://weasyprint.org/" target="_blank">WeasyPrint</a> is used (ensure to install it).</p>
<p>To quick start, run the tool twice in an empty directly.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/tmp/my_doc
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>/tmp/my_doc$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>custom-doc
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Configuration file doc.yaml not found, created template at:
/tmp/my_doc/doc.yaml
Update it with the desired sources and rerun the tool.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>/tmp/my_doc$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>custom-doc<span class="w"> </span>--builder<span class="w"> </span>pdf
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>[ build output ]
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>The <em>doc.yaml</em> file is a concise human-readable markup file to set the desired
content and some other options.
Running the tool in a directory without the <em>doc.yaml</em> will instantiate a template
and return.
If the necessary repositories are not found, the tool will clone for you.</p>
<p>In general, you can first clone and checkout your current work and then run the tool,
to build the doc with your own changes.</p>
<p>Some documentations depend on auto generated sections and extra features, use
the <code class="docutils literal notranslate"><span class="pre">--extra</span></code> option to enable those; it considers that the environment has all
the tools needed, for example, <code class="docutils literal notranslate"><span class="pre">vivado</span></code> is accessible for the HDL documentation.
See <a class="icon git reference external" href="https://github.com/analogdevicesinc/doctools/tree/main/adi_doctools/cli/custom-doc.py" target="_blank">adi_doctools/cli/custom-doc.py</a> to understand how the extra steps are
included, but in summary, they are just a sequence of bash commands wrapped on python.</p>
<p>For all options, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>custom-doc<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Here is a minimal <em>doc.yaml</em>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Custom user guide</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Subtitle of the user guide</span>

<span class="nt">include</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">documentation/software/libiio/cli.rst</span>

<span class="nt">custom</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-pages/index.rst</span>

<span class="nt">entry-point</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">caption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My custom index</span>
<span class="w">    </span><span class="nt">files</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-pages/index.rst</span>

<span class="nt">config</span><span class="p">:</span>
<span class="w">    </span><span class="nt">documentation</span><span class="p">:</span>
<span class="w">      </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-branch&quot;</span>

<span class="nt">extensions</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sphinx.ext.duration</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">include</span></code> option contains the list of files to include in the custom
document, with the first level of the path the label (normally the repository
name).</p>
<p>During generation, the tool will resolve the hierarchy of the included docs,
adding pages until the repository top-level page is reached.
This may result in unwanted content being added and empty “category” sections.</p>
<p>To resolve that, it is possible to create custom top-level toctrees with the
<code class="docutils literal notranslate"><span class="pre">entry-point</span></code> option.
In summary, this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">entry-point</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">caption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HDL design</span>
<span class="w">    </span><span class="nt">files</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some/custom/intro.rst</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdl/some/project.rst</span>
</pre></div>
</div>
<p>Resolves at <em>index.rst</em> into:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:caption:</span> HDL design

   some/custom/intro
   hdl/some/project
</pre></div>
</div>
<p>Additional configuration can be added to the <code class="docutils literal notranslate"><span class="pre">config</span></code> option:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">repository</span></code>: Sets the repository to clone, if unset, is inferred as the
label name. Useful when using the same repository multiple times for
different branches.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">branch</span></code>: Clone the repository from a specific branch, overwrite “main”.
If the repository is already present, this option has no effect.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extra</span></code>: Do steps that require extra software, for example, some vendor SDK.</p></li>
</ul>
<p>The option <code class="docutils literal notranslate"><span class="pre">extensions</span></code> allow appending extra Sphinx extensions, beyond the
automatically imported from the sourced documentations.</p>
<p>Just like <a class="reference internal" href="#serve"><span class="std std-ref">Serve</span></a>, Custom doc also has <a class="reference internal" href="#serve-lfs"><span class="std std-ref">Git LFS integration</span></a>.
The current limitation is that only copied images (from the sphinx’s “copying images…”
step) are looked for lfs pointers, so artifacts from other steps are missed, such as
from the download directive.</p>
<section id="working-with-multiple-docs">
<h3>Working with multiple docs<a class="headerlink" href="#working-with-multiple-docs" title="Link to this heading"></a></h3>
<p>Suppose you edited and tested multiple docs together, it could be useful
helpful to try a local inventory file first, to check references before publication.</p>
<p>Having this in mind, if you build the edited documentation first, and then execute
<code class="docutils literal notranslate"><span class="pre">custom-doc</span></code>, it will consider the local inventory <em>objects.inv</em> also.</p>
<p>Here is a example of auto-resolved <em>intersphinx_mapping</em> by <code class="docutils literal notranslate"><span class="pre">custom-doc</span></code>, at the
<em>_build/conf.py</em>:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># -- External docs configuration ----------------------------------------------</span>

<span class="n">intersphinx_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># Docs locally edited and referenced</span>
    <span class="s1">&#39;hdl&#39;</span><span class="p">:</span>
        <span class="p">(</span><span class="s1">&#39;https://analogdevicesinc.github.io/hdl&#39;</span><span class="p">,</span>
         <span class="p">(</span><span class="s1">&#39;/path/to/my_project/hdl/docs/_build/html/objects.inv&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)),</span>
    <span class="s1">&#39;documentation&#39;</span><span class="p">:</span>
        <span class="p">(</span><span class="s1">&#39;https://analogdevicesinc.github.io/documentation&#39;</span><span class="p">,</span>
         <span class="p">(</span><span class="s1">&#39;/path/to/my_project/documentation/docs/_build/html/objects.inv&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)),</span>
    <span class="c1"># Doc not locally edited, but referenced</span>
    <span class="s1">&#39;scopy&#39;</span><span class="p">:</span>
        <span class="p">(</span><span class="s1">&#39;https://analogdevicesinc.github.io/scopy&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Learn more about the core of this behavior at
<a class="icon link reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html#confval-intersphinx_mapping" target="_blank">Multiple targets for the inventory, intersphinx_mapping</a>.</p>
<p>For a single doc, without <code class="docutils literal notranslate"><span class="pre">custom-doc</span></code>, there is also <code class="docutils literal notranslate"><span class="pre">interref_local</span></code> described
at <a class="reference internal" href="docs_guidelines/index.html#in-org-ref"><span class="std std-ref">In organization reference</span></a>.</p>
</section>
</section>
<section id="aggregate">
<h2>Aggregate<a class="headerlink" href="#aggregate" title="Link to this heading"></a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This feature is useful to batch build/test all tracked documentations.</p>
</div>
<p>Generates all documentations of the watched repositories
(see <a class="icon git reference external" href="https://github.com/analogdevicesinc/doctools/tree/main/adi_doctools/lut.py" target="_blank">adi_doctools/lut.py</a>).</p>
<p>Two generation strategies are available:</p>
<ul class="simple">
<li><p>monolithic: patches all docs together into a single monolithic output (default).</p></li>
<li><p>symbolic: generate each doc independently, just save them together (<code class="docutils literal notranslate"><span class="pre">--symbolic</span></code>).</p></li>
</ul>
<p>For the monolithic output, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>/tmp/all-docs$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>aggregate
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Some documentations depend on auto generated sections and extra features, use
the <code class="docutils literal notranslate"><span class="pre">--extra</span></code> option to enable those; it considers that the environment has all
the tools needed, for example, <code class="docutils literal notranslate"><span class="pre">vivado</span></code> is accessible for the HDL documentation.
See <a class="icon git reference external" href="https://github.com/analogdevicesinc/doctools/tree/main/adi_doctools/cli/aggregate.py" target="_blank">adi_doctools/cli/aggregate.py</a> to understand how the extra steps are
included, but in summary, they are just a sequence of bash commands wrapped on python.</p>
<p>For all options, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>aggregate<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="hdl-render">
<h2>HDL Render<a class="headerlink" href="#hdl-render" title="Link to this heading"></a></h2>
<p>Exposes the HDL component diagram generator as a CLI.
It converts IP-XACT files into SVGs.</p>
<p>To generate and open the diagram, provide the path containing the IP-XACT and use
the <code class="docutils literal notranslate"><span class="pre">--open</span></code> option:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>hdl-render<span class="w"> </span>--input<span class="w"> </span>PATH<span class="w"> </span>--open
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>For example:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>hdl-render<span class="w"> </span>--input<span class="w"> </span>hdl/library/axi_dmac<span class="w"> </span>--open
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>For all options, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>hdl-render<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="docs_guidelines/roles.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Custom roles</a>
    <a href="deploy.html" title="Next document (Alt+Shift+RightArrow)" class="next">Documentation deployment</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>