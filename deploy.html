<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Doctools is developed to work offline, in a local server as a rolling release (e.g., on GitHub Pages) and versioned in a dedicated server with orchestration." name="description" />

    <title>Documentation deployment &#8212; Doctools  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="_static/app.min.css?v=9d1cc31f" />
    <script async="async" src="_static/app.umd.js?v=da3838b9"></script>
    <link rel="icon" href="_static/icon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Continuous integration" href="ci.html" />
    <link rel="prev" title="Command line interface" href="cli.html" />
   
  
  
  <meta name="repository" content="doctools">
  <meta name="version" content="main">
  
    <meta name="page_source_suffix" content=".rst">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="index.html">
          <div>Doctools</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="./index.html" class="current">Doctools</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Documentation deployment</a><ul>
<li><a class="reference internal" href="#local">Local</a></li>
<li><a class="reference internal" href="#rolling-release">Rolling release</a></li>
<li><a class="reference internal" href="#versioned">Versioned</a><ul>
<li><a class="reference internal" href="#string-array-form">String array form</a></li>
<li><a class="reference internal" href="#fine-grained-form">Fine-grained form</a></li>
</ul>
</li>
<li><a class="reference internal" href="#further-notes">Further notes</a><ul>
<li><a class="reference internal" href="#i-don-t-want-a-doc-at-the-root">I don’t want a doc at the root</a></li>
<li><a class="reference internal" href="#how-do-i-cross-reference-a-specific-version">How do I cross-reference a specific version?</a></li>
<li><a class="reference internal" href="#what-happened-to-adoc-target-depth">What happened to <code class="docutils literal notranslate"><span class="pre">ADOC_TARGET_DEPTH</span></code>?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="index.html">
      Doctools
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="./index.html" class="current">Doctools</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="fundamentals.html">Fundamentals</a></li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="docs_guidelines/index.html">Documentation guidelines</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="docs_guidelines/directives.html">Custom directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="docs_guidelines/roles.html">Custom roles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documentation deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci.html">Continuous integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="theme.html">Sphinx theme</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb empty"><ol></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="documentation-deployment">
<span id="deploy"></span><h1>Documentation deployment<a class="headerlink" href="#documentation-deployment" title="Link to this heading"></a></h1>
<p>Doctools is developed to work offline, in a local server as a rolling release
(e.g., on GitHub Pages) and versioned in a dedicated server with orchestration.</p>
<section id="local">
<span id="deploy-local"></span><h2>Local<a class="headerlink" href="#local" title="Link to this heading"></a></h2>
<p>For offline and local server, a <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> suffices to generate the
documentation.</p>
<p>To serve the build in a local server, Python built-in server can be used:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span>-d<span class="w"> </span>/path/to/docs/_build/html
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Or with hot reload using <a class="reference internal" href="cli.html#serve"><span class="std std-ref">Serve</span></a>:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adoc<span class="w"> </span>serve<span class="w"> </span>-d<span class="w"> </span>/path/to/docs
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="rolling-release">
<span id="deploy-rolling-release"></span><h2>Rolling release<a class="headerlink" href="#rolling-release" title="Link to this heading"></a></h2>
<p>For a rolling release, a workflow file is used.
With GitHub Actions, the following workflow file is recommended:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
<span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">build-doc</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>

<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v5</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.x&quot;</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install pip packages</span>
<span class="w">      </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docs</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">pip install pip --upgrade</span>
<span class="w">        </span><span class="no">pip install -r requirements.txt</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build doc</span>
<span class="w">      </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docs</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">make html SPHINXOPTS=&#39;-W --keep-going&#39;</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Store the generated doc</span>
<span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/upload-artifact@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">html</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docs/_build/html</span>

<span class="w">  </span><span class="nt">deploy-doc</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build-doc</span>
<span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.ref == &#39;refs/heads/main&#39;</span>

<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">git config --global user.name &quot;${{ github.event.head_commit.committer.name }}&quot;</span>
<span class="w">        </span><span class="no">git config --global user.email &quot;${{ github.event.head_commit.committer.email }}&quot;</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create gh-pages branch</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">        </span><span class="no">git ls-remote --exit-code --heads origin refs/heads/gh-pages ||</span>
<span class="w">        </span><span class="no">(</span>
<span class="w">          </span><span class="no">git reset --hard ;</span>
<span class="w">          </span><span class="no">git clean -fdx ;</span>
<span class="w">          </span><span class="no">git checkout --orphan gh-pages ;</span>
<span class="w">          </span><span class="no">git reset --hard;</span>
<span class="w">          </span><span class="no">git commit -m &quot;empty&quot; --allow-empty ;</span>
<span class="w">          </span><span class="no">git push origin gh-pages:gh-pages</span>
<span class="w">        </span><span class="no">)</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;gh-pages&#39;</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Empty gh-pages</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">git rm -r . --quiet || true</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/download-artifact@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">html</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Patch doc build</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">rm -r _sources</span>
<span class="w">        </span><span class="no">touch .nojekyll</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Commit gh-pages</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">git add . &gt;&gt; /dev/null</span>
<span class="w">        </span><span class="no">git commit -m &quot;deploy: ${GITHUB_SHA}&quot; --allow-empty</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Push to gh-pages</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">git push origin gh-pages:gh-pages</span>
</pre></div>
</div>
<p>With the Sphinx <code class="docutils literal notranslate"><span class="pre">-W</span></code> flag, Sphinx exits with an error if any warning is
logged, and <code class="docutils literal notranslate"><span class="pre">--keep-going</span></code> continues the build even if a warning is logged,
to provide a complete log for analysis.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">deploy-doc</span></code> job only runs when push/merged to main.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><code class="docutils literal notranslate"><span class="pre">GITHUB_SHA</span></code> on <code class="docutils literal notranslate"><span class="pre">pull_request</span></code> is the pre-commit and not the head commit,
please be aware of GitHub events values if implementing something else.</p>
</div>
<p>The <em>requirements.txt</em> file should contain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">analogdevicesinc</span><span class="o">/</span><span class="n">doctools</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">latest</span><span class="o">/</span><span class="n">adi</span><span class="o">-</span><span class="n">doctools</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</section>
<section id="versioned">
<span id="deploy-versioned"></span><h2>Versioned<a class="headerlink" href="#versioned" title="Link to this heading"></a></h2>
<p>The live versioned version requires additional orchestration than the
<a class="reference internal" href="#deploy-rolling-release"><span class="std std-ref">Rolling release</span></a>.</p>
<p>The versions are described in <code class="docutils literal notranslate"><span class="pre">tags.json</span></code> file on the root path
that can take two formats, one simpler with a plain string array and other
fine-grained to allow full control.</p>
<p>But first, store each version in separated folders in the root path, e.g.
<code class="docutils literal notranslate"><span class="pre">v1.1</span></code>, <code class="docutils literal notranslate"><span class="pre">v2.2</span></code>, <code class="docutils literal notranslate"><span class="pre">main</span></code>, <code class="docutils literal notranslate"><span class="pre">dev</span></code>.</p>
<section id="string-array-form">
<h3>String array form<a class="headerlink" href="#string-array-form" title="Link to this heading"></a></h3>
<p>The simple <code class="docutils literal notranslate"><span class="pre">tags.json</span></code> is a plain array with each version/path on the
and generate a <code class="docutils literal notranslate"><span class="pre">tags.json</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">[&quot;v1.1&quot;,</span> <span class="pre">&quot;v2.2&quot;,</span> <span class="pre">&quot;main&quot;,</span> <span class="pre">&quot;dev&quot;,</span> <span class="pre">&quot;&quot;]</span></code>
(an empty string means there is a built doc on the root and will be named
<code class="docutils literal notranslate"><span class="pre">main</span> <span class="pre">(unstable)</span></code>).
The first tag will be labeled with <code class="docutils literal notranslate"><span class="pre">latest</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>See this repo’s <a class="icon git reference external" href="https://github.com/analogdevicesinc/doctools/tree/main/.github/workflows/deploy.yml" target="_blank">.github/workflows/deploy.yml</a> for a
suggestion on how to implement it.</p>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">tags.json</span></code> format can be obtained with:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Search for every doc&#39;s objects.inv store the paths as JSON.</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span>objects.inv<span class="w"> </span>-exec<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;dirname {}&#39;</span><span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>cut<span class="w"> </span>-c<span class="w"> </span><span class="m">3</span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sort<span class="w"> </span>-Vr<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>jq<span class="w"> </span>--raw-input<span class="w"> </span>.<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>jq<span class="w"> </span>--slurp<span class="w"> </span>.<span class="w"> </span>&gt;<span class="w"> </span>tags.json
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="fine-grained-form">
<h3>Fine-grained form<a class="headerlink" href="#fine-grained-form" title="Link to this heading"></a></h3>
<p>The more elaborated option takes the following format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;label&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;main&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;main&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;unstable&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;v2.0.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;v2.0.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pre-release&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;v1.2.1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;v1.2.1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;latest&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;v1.2.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;v1.2.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;v1.1.7&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;v1.1.7&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;prs/staging/new-feature&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;new-feature&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;experimental&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice how the “name” and “label” for path <code class="docutils literal notranslate"><span class="pre">prs/staging/new-feature</span></code>
was used to provide a concise but clearer name to this entry.</p>
<p>The doc version set, either via <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> or <code class="docutils literal notranslate"><span class="pre">ADOC_DOC_VERSION</span></code>
(<a class="reference internal" href="docs_guidelines/index.html#version"><span class="std std-ref">more info</span></a>), should match a value on the <code class="docutils literal notranslate"><span class="pre">name</span></code> column, and
not the <code class="docutils literal notranslate"><span class="pre">path</span></code> column.</p>
</section>
</section>
<section id="further-notes">
<h2>Further notes<a class="headerlink" href="#further-notes" title="Link to this heading"></a></h2>
<section id="i-don-t-want-a-doc-at-the-root">
<h3>I don’t want a doc at the root<a class="headerlink" href="#i-don-t-want-a-doc-at-the-root" title="Link to this heading"></a></h3>
<p>If the root does not contain any built doc, add a redirect HTML file pointing
to the main/stable version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; url=main/index.html&quot; /&gt;
  &lt;/head&gt;
&lt;/html&gt;
</pre></div>
</div>
</section>
<section id="how-do-i-cross-reference-a-specific-version">
<h3>How do I cross-reference a specific version?<a class="headerlink" href="#how-do-i-cross-reference-a-specific-version" title="Link to this heading"></a></h3>
<p>For <a class="reference internal" href="docs_guidelines/index.html#in-org-ref"><span class="std std-ref">In organization reference</span></a>, the doc shall target a specific version by suffixing
the target the version on the <code class="docutils literal notranslate"><span class="pre">interref_repos</span></code> variable, e.g.
<code class="docutils literal notranslate"><span class="pre">interref_repos</span> <span class="pre">=</span> <span class="pre">['pyadi-iio/dev',</span> <span class="pre">'other-repo/v1.1']</span></code>.</p>
</section>
<section id="what-happened-to-adoc-target-depth">
<h3>What happened to <code class="docutils literal notranslate"><span class="pre">ADOC_TARGET_DEPTH</span></code>?<a class="headerlink" href="#what-happened-to-adoc-target-depth" title="Link to this heading"></a></h3>
<p>Previously there was also a <code class="docutils literal notranslate"><span class="pre">ADOC_TARGET_DEPTH</span></code> environment variables
to create full relative links between versions, but this was deprecated
by instead just using the root <code class="docutils literal notranslate"><span class="pre">/</span></code> for those links, e.g.
<code class="docutils literal notranslate"><span class="pre">/doctools/v1.0.0</span></code> instead of <code class="docutils literal notranslate"><span class="pre">../../../doctools/v1.0.0</span></code> from
<code class="docutils literal notranslate"><span class="pre">doctools/v2.0.0/some/page.html</span></code>.</p>
<p>This has the side effect of requiring to repository docs to be hosted right
at the root.</p>
</section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="cli.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Command line interface</a>
    <a href="ci.html" title="Next document (Alt+Shift+RightArrow)" class="next">Continuous integration</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>